## Introduction 
Everyone likes food, and a great way to learn to make new recipes nowadays is online. However, not everyone has the time or money to make recipes that are more intensive and require more ingredients. Yet, these recipes are often quite delicious and fun to make as well. 

We worked with two datasets from food.com, a website where people post and review recipes. RAW_recipes was a dataset of recipes from food.com and aspects of their preparation, including prep time, number of ingredients, number of steps, nutritional value, etc. It had 83,782 rows with each row representing a unique recipe. The second dataset we worked with was RAW_interactions, which was a dataset that contained reviews and ratings for the recipes in RAW_recipes. Ratings were from 0-5 stars. It had 731,927 rows each representing a review of a recipe. 

#### Question: Are the ratings of recipes that used higher numbers of ingredients were significantly different from those that used a lower number of ingredients?

With this data, we sought to ask the question of whether the ratings of recipes that used higher numbers of ingredients were significantly different from those that used a lower number of ingredients. 

The two datasets were later merged, but the columns we used were the `rating` column from RAW_interactions, which we later turned into `avg_rating` by finding the average rating for each recipe, and the `n_ingredients` column from the RAW_recipes dataset.  

## Cleaning and EDA 
In the first step of our cleaning and EDA process, we left merged the two datasets. We merged the RAW_interactions dataset on the RAW_recipes dataset using the `recipe_id` from the RAW_interactions dataset and `id` from the RAW_recipes dataset, both of which are unique identifiers of a recipe. 

In the merged dataset, `recipes_merged`, we filled all rating of 0 with np.NaN. We did this because the 0 rating maybe due to a reviewer leaving an empty review. In filling empty reviews with np.NaN it will remove those values from our analysis. If a recipe was actually bad enough to have someone rate it 0 stars, we are assuming it would also have 1 or 2 star ratings, and so we would still know if it was a bad rating. 

We found the average rating per recipe as a series by grouping by `recipe_id` and getting the `rating` column and aggregating it by the mean. We then turned this series into a dataframe in order to left merge it with `recipes_merged` dataframe. The final dataset was called `recipes`, and contained a column of average ratings titled `avg_rating`. The first couple of rows are shown below. 

| name                                 |   recipe_id |   minutes |   contributor_id | submitted   | tags                                                                                                                                                                                                                        | nutrition                                    |   n_steps | steps                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | description                                                                                                                                                                                                                                                                                                                                                                       | ingredients                                                                                                                                                                    |   n_ingredients |          user_id | date       |   rating | review                                                                                                                                                                                                                                                                                                                                           |   avg_rating |
|:-------------------------------------|------------:|----------:|-----------------:|:------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:---------------------------------------------|----------:|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------:|-----------------:|:-----------|---------:|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------:|
| 1 brownies in the world    best ever |      333281 |        40 |           985201 | 2008-10-27  | ['60-minutes-or-less', 'time-to-make', 'course', 'main-ingredient', 'preparation', 'for-large-groups', 'desserts', 'lunch', 'snacks', 'cookies-and-brownies', 'chocolate', 'bar-cookies', 'brownies', 'number-of-servings'] | [138.4, 10.0, 50.0, 3.0, 3.0, 19.0, 6.0]     |        10 | ['heat the oven to 350f and arrange the rack in the middle', 'line an 8-by-8-inch glass baking dish with aluminum foil', 'combine chocolate and butter in a medium saucepan and cook over medium-low heat , stirring frequently , until evenly melted', 'remove from heat and let cool to room temperature', 'combine eggs , sugar , cocoa powder , vanilla extract , espresso , and salt in a large bowl and briefly stir until just evenly incorporated', 'add cooled chocolate and mix until uniform in color', 'add flour and stir until just incorporated', 'transfer batter to the prepared baking dish', 'bake until a tester inserted in the center of the brownies comes out clean , about 25 to 30 minutes', 'remove from the oven and cool completely before cutting']                                                  | these are the most; chocolatey, moist, rich, dense, fudgy, delicious brownies that you'll ever make.....sereiously! there's no doubt that these will be your fav brownies ever for you can add things to them or make them plain.....either way they're pure heaven!                                                                                                              | ['bittersweet chocolate', 'unsalted butter', 'eggs', 'granulated sugar', 'unsweetened cocoa powder', 'vanilla extract', 'brewed espresso', 'kosher salt', 'all-purpose flour'] |               9 | 386585           | 2008-11-19 |        4 | These were pretty good, but took forever to bake.  I would send it ended up being almost an hour!  Even then, the brownies stuck to the foil, and were on the overly moist side and not easy to cut.  They did taste quite rich, though!  Made for My 3 Chefs.                                                                                   |            4 |
| 1 in canada chocolate chip cookies   |      453467 |        45 |          1848091 | 2011-04-11  | ['60-minutes-or-less', 'time-to-make', 'cuisine', 'preparation', 'north-american', 'for-large-groups', 'canadian', 'british-columbian', 'number-of-servings']                                                               | [595.1, 46.0, 211.0, 22.0, 13.0, 51.0, 26.0] |        12 | ['pre-heat oven the 350 degrees f', 'in a mixing bowl , sift together the flours and baking powder', 'set aside', 'in another mixing bowl , blend together the sugars , margarine , and salt until light and fluffy', 'add the eggs , water , and vanilla to the margarine / sugar mixture and mix together until well combined', 'add in the flour mixture to the wet ingredients and blend until combined', 'scrape down the sides of the bowl and add the chocolate chips', 'mix until combined', 'scrape down the sides to the bowl again', 'using an ice cream scoop , scoop evenly rounded balls of dough and place of cookie sheet about 1 - 2 inches apart to allow for spreading during baking', 'bake for 10 - 15 minutes or until golden brown on the outside and soft & chewy in the center', 'serve hot and enjoy !'] | this is the recipe that we use at my school cafeteria for chocolate chip cookies. they must be the best chocolate chip cookies i have ever had! if you don't have margarine or don't like it, then just use butter (softened) instead.                                                                                                                                            | ['white sugar', 'brown sugar', 'salt', 'margarine', 'eggs', 'vanilla', 'water', 'all-purpose flour', 'whole wheat flour', 'baking soda', 'chocolate chips']                    |              11 | 424680           | 2012-01-26 |        5 | Originally I was gonna cut the recipe in half (just the 2 of us here), but then we had a park-wide yard sale, & I made the whole batch & used them as enticements for potential buyers ~ what the hey, a free cookie as delicious as these are, definitely works its magic! Will be making these again, for sure! Thanks for posting the recipe! |            5 |
| 412 broccoli casserole               |      306168 |        40 |            50969 | 2008-05-30  | ['60-minutes-or-less', 'time-to-make', 'course', 'main-ingredient', 'preparation', 'side-dishes', 'vegetables', 'easy', 'beginner-cook', 'broccoli']                                                                        | [194.8, 20.0, 6.0, 32.0, 22.0, 36.0, 3.0]    |         6 | ['preheat oven to 350 degrees', 'spray a 2 quart baking dish with cooking spray , set aside', 'in a large bowl mix together broccoli , soup , one cup of cheese , garlic powder , pepper , salt , milk , 1 cup of french onions , and soy sauce', 'pour into baking dish , sprinkle remaining cheese over top', 'bake for 25 minutes or until cheese is lightly browned', 'sprinkle with rest of french fried onions and bake until onions are browned and cheese is bubbly , about 10 more minutes']                                                                                                                                                                                                                                                                                                                              | since there are already 411 recipes for broccoli casserole posted to "zaar" ,i decided to call this one  #412 broccoli casserole.i don't think there are any like this one in the database. i based this one on the famous "green bean casserole" from campbell's soup. but i think mine is better since i don't like cream of mushroom soup.submitted to "zaar" on may 28th,2008 | ['frozen broccoli cuts', 'cream of chicken soup', 'sharp cheddar cheese', 'garlic powder', 'ground black pepper', 'salt', 'milk', 'soy sauce', 'french-fried onions']          |               9 |  29782           | 2008-12-31 |        5 | This was one of the best broccoli casseroles that I have ever made.  I made my own chicken soup for this recipe. I was a bit worried about the tsp of soy sauce but it gave the casserole the best flavor. YUM!                                                                                                                                  |            5 |
|                                      |             |           |                  |             |                                                                                                                                                                                                                             |                                              |           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                   |                                                                                                                                                                                |                 |                  |            |          | The photos you took (shapeweaver) inspired me to make this recipe and it actually does look just like them when it comes out of the oven.                                                                                                                                                                                                        |              |
|                                      |             |           |                  |             |                                                                                                                                                                                                                             |                                              |           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                   |                                                                                                                                                                                |                 |                  |            |          | Thanks so much for sharing your recipe shapeweaver. It was wonderful!  Going into my family's favorite Zaar cookbook :)                                                                                                                                                                                                                          |              |
| 412 broccoli casserole               |      306168 |        40 |            50969 | 2008-05-30  | ['60-minutes-or-less', 'time-to-make', 'course', 'main-ingredient', 'preparation', 'side-dishes', 'vegetables', 'easy', 'beginner-cook', 'broccoli']                                                                        | [194.8, 20.0, 6.0, 32.0, 22.0, 36.0, 3.0]    |         6 | ['preheat oven to 350 degrees', 'spray a 2 quart baking dish with cooking spray , set aside', 'in a large bowl mix together broccoli , soup , one cup of cheese , garlic powder , pepper , salt , milk , 1 cup of french onions , and soy sauce', 'pour into baking dish , sprinkle remaining cheese over top', 'bake for 25 minutes or until cheese is lightly browned', 'sprinkle with rest of french fried onions and bake until onions are browned and cheese is bubbly , about 10 more minutes']                                                                                                                                                                                                                                                                                                                              | since there are already 411 recipes for broccoli casserole posted to "zaar" ,i decided to call this one  #412 broccoli casserole.i don't think there are any like this one in the database. i based this one on the famous "green bean casserole" from campbell's soup. but i think mine is better since i don't like cream of mushroom soup.submitted to "zaar" on may 28th,2008 | ['frozen broccoli cuts', 'cream of chicken soup', 'sharp cheddar cheese', 'garlic powder', 'ground black pepper', 'salt', 'milk', 'soy sauce', 'french-fried onions']          |               9 |      1.19628e+06 | 2009-04-13 |        5 | I made this for my son's first birthday party this weekend. Our guests INHALED it! Everyone kept saying how delicious it was. I was I could have gotten to try it.                                                                                                                                                                               |            5 |
| 412 broccoli casserole               |      306168 |        40 |            50969 | 2008-05-30  | ['60-minutes-or-less', 'time-to-make', 'course', 'main-ingredient', 'preparation', 'side-dishes', 'vegetables', 'easy', 'beginner-cook', 'broccoli']                                                                        | [194.8, 20.0, 6.0, 32.0, 22.0, 36.0, 3.0]    |         6 | ['preheat oven to 350 degrees', 'spray a 2 quart baking dish with cooking spray , set aside', 'in a large bowl mix together broccoli , soup , one cup of cheese , garlic powder , pepper , salt , milk , 1 cup of french onions , and soy sauce', 'pour into baking dish , sprinkle remaining cheese over top', 'bake for 25 minutes or until cheese is lightly browned', 'sprinkle with rest of french fried onions and bake until onions are browned and cheese is bubbly , about 10 more minutes']                                                                                                                                                                                                                                                                                                                              | since there are already 411 recipes for broccoli casserole posted to "zaar" ,i decided to call this one  #412 broccoli casserole.i don't think there are any like this one in the database. i based this one on the famous "green bean casserole" from campbell's soup. but i think mine is better since i don't like cream of mushroom soup.submitted to "zaar" on may 28th,2008 | ['frozen broccoli cuts', 'cream of chicken soup', 'sharp cheddar cheese', 'garlic powder', 'ground black pepper', 'salt', 'milk', 'soy sauce', 'french-fried onions']          |               9 | 768828           | 2013-08-02 |        5 | Loved this.  Be sure to completely thaw the broccoli.  I didn&#039;t and it didn&#039;t get done in time specified.  Just cooked it a little longer though and it was perfect.  Thanks Chef.                                                                                                                                                     |            5 |

We then checked the data types of the `n_ingredients` and `rating` columns. The `n_ingredients` columns is of integer data type and the `rating` column is of float data type. 

### Univariate Analysis of `n_ingredients` and `avg_rating`

First we started by looking at the descriptive statistics of `n_ingredients`, this is shown below. The mean is 9.21 ingredients, the minimum is 1 ingredient and the maximum is 37 ingredients. 

|       |   n_ingredients |
|:------|----------------:|
| count |     83782       |
| mean  |         9.21402 |
| std   |         3.83046 |
| min   |         1       |
| 25%   |         6       |
| 50%   |         9       |
| 75%   |        12       |
| max   |        37       |

We then plotted the histogram for the distribution of `n_ingredients`. This is shown below. 

<iframe src="assets/n_ingredients_hist.html" width=800 height=600 frameBorder=0></iframe>

The distribution of `n_ingredients` is shown above. It is slightly right skewed, but is approximately normally distributed. 

Next, we examined the distribution of `avg_rating`. The descriptive statistics are shown in the table below. 

|       |   avg_rating |
|:------|-------------:|
| count | 81173        |
| mean  |     4.62536  |
| std   |     0.640763 |
| min   |     1        |
| 25%   |     4.5      |
| 50%   |     5        |
| 75%   |     5        |
| max   |     5        |

The mean of `avg_rating` was 4.63 stars with the minimum average rating being 1 star, and the maximum being 5 stars.
Next, we plotted the distribution of this variable as a histogram.

<iframe src="assets/avg_rating_hist.html" width=800 height=600 frameBorder=0></iframe>

From the histogram of average ratings we observe that most dishes are highly rated, with the peak of the histogram being at a rating of 5.

### Bivariate Analysis

Next, we conducted a bivariate analysis of `n_ingredients` and `avg_rating`. In order to do this, we created a scatterplot, where the x-axis was number of ingredients and the y-axis was the average rating. 

This plot is shown below. 

<iframe src="assets/scatter.html" width=800 height=600 frameBorder=0></iframe>

From the scatterplot above, we can observe that recipes with less ingredients seem to have more high ratings. However, this might also be because there are more data between 5-20 ingredients than beyond that point. Hypothesis tests will need to be done to conclude whether recipes with lower or higher ingredients get higher ratings.

### Interesting Aggregates -- Pivot Table

Next, we examined interesting aggregates in the data. Namely, we created a pivot table by categorizing `n_ingredients` and `avg_rating` to get two categorical variables for the pivot table, and saving these categories in columns called `ing_size_label` and `rating_category`. For `n_ingredients`, we categorized recipes with less than or equal to 9 ingredients as 'low' and more than 9 to be 'high' as their `ing_size_label`. For `avg_rating`, we categorized each recipe according to the range of its average rating. For example, if a recipe had an average rating of 3.5 stars, it had a value of '3 to 4 star rating' in the `rating_category` column. 

The first two rows of the new `recipes` dataframe with these additions is shown below.

| name                                 |   recipe_id |   minutes |   contributor_id | submitted   | tags                                                                                                                                                                                                                        | nutrition                                    |   n_steps | steps                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | description                                                                                                                                                                                                                                                          | ingredients                                                                                                                                                                    |   n_ingredients |   user_id | date       |   rating | review                                                                                                                                                                                                                                                                                                                                           |   avg_rating | ing_size_label   | rating_categories   |
|:-------------------------------------|------------:|----------:|-----------------:|:------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:---------------------------------------------|----------:|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------:|----------:|:-----------|---------:|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------:|:-----------------|:--------------------|
| 1 brownies in the world    best ever |      333281 |        40 |           985201 | 2008-10-27  | ['60-minutes-or-less', 'time-to-make', 'course', 'main-ingredient', 'preparation', 'for-large-groups', 'desserts', 'lunch', 'snacks', 'cookies-and-brownies', 'chocolate', 'bar-cookies', 'brownies', 'number-of-servings'] | [138.4, 10.0, 50.0, 3.0, 3.0, 19.0, 6.0]     |        10 | ['heat the oven to 350f and arrange the rack in the middle', 'line an 8-by-8-inch glass baking dish with aluminum foil', 'combine chocolate and butter in a medium saucepan and cook over medium-low heat , stirring frequently , until evenly melted', 'remove from heat and let cool to room temperature', 'combine eggs , sugar , cocoa powder , vanilla extract , espresso , and salt in a large bowl and briefly stir until just evenly incorporated', 'add cooled chocolate and mix until uniform in color', 'add flour and stir until just incorporated', 'transfer batter to the prepared baking dish', 'bake until a tester inserted in the center of the brownies comes out clean , about 25 to 30 minutes', 'remove from the oven and cool completely before cutting']                                                  | these are the most; chocolatey, moist, rich, dense, fudgy, delicious brownies that you'll ever make.....sereiously! there's no doubt that these will be your fav brownies ever for you can add things to them or make them plain.....either way they're pure heaven! | ['bittersweet chocolate', 'unsalted butter', 'eggs', 'granulated sugar', 'unsweetened cocoa powder', 'vanilla extract', 'brewed espresso', 'kosher salt', 'all-purpose flour'] |               9 |    386585 | 2008-11-19 |        4 | These were pretty good, but took forever to bake.  I would send it ended up being almost an hour!  Even then, the brownies stuck to the foil, and were on the overly moist side and not easy to cut.  They did taste quite rich, though!  Made for My 3 Chefs.                                                                                   |            4 | low              | 3 to 4 star rating  |
| 1 in canada chocolate chip cookies   |      453467 |        45 |          1848091 | 2011-04-11  | ['60-minutes-or-less', 'time-to-make', 'cuisine', 'preparation', 'north-american', 'for-large-groups', 'canadian', 'british-columbian', 'number-of-servings']                                                               | [595.1, 46.0, 211.0, 22.0, 13.0, 51.0, 26.0] |        12 | ['pre-heat oven the 350 degrees f', 'in a mixing bowl , sift together the flours and baking powder', 'set aside', 'in another mixing bowl , blend together the sugars , margarine , and salt until light and fluffy', 'add the eggs , water , and vanilla to the margarine / sugar mixture and mix together until well combined', 'add in the flour mixture to the wet ingredients and blend until combined', 'scrape down the sides of the bowl and add the chocolate chips', 'mix until combined', 'scrape down the sides to the bowl again', 'using an ice cream scoop , scoop evenly rounded balls of dough and place of cookie sheet about 1 - 2 inches apart to allow for spreading during baking', 'bake for 10 - 15 minutes or until golden brown on the outside and soft & chewy in the center', 'serve hot and enjoy !'] | this is the recipe that we use at my school cafeteria for chocolate chip cookies. they must be the best chocolate chip cookies i have ever had! if you don't have margarine or don't like it, then just use butter (softened) instead.                               | ['white sugar', 'brown sugar', 'salt', 'margarine', 'eggs', 'vanilla', 'water', 'all-purpose flour', 'whole wheat flour', 'baking soda', 'chocolate chips']                    |              11 |    424680 | 2012-01-26 |        5 | Originally I was gonna cut the recipe in half (just the 2 of us here), but then we had a park-wide yard sale, & I made the whole batch & used them as enticements for potential buyers ~ what the hey, a free cookie as delicious as these are, definitely works its magic! Will be making these again, for sure! Thanks for posting the recipe! |            5 | high             | 4 to 5 star rating  |

We then created a pivot table indexed by the `ing_size_label` i.e. whether it had a low or high number of ingredients and the rating category. We aggregated it by the count function and the values were the numbers of reviews within each category. The pivot table is shown below. 

| ing_size_label   |   1 star or less |   1 to 2 star rating |   2 to 3 star rating |   3 to 4 star rating |   4 to 5 star rating |
|:-----------------|-----------------:|---------------------:|---------------------:|---------------------:|---------------------:|
| high             |              292 |                  327 |                 1641 |                 9975 |                82594 |
| low              |              405 |                  462 |                 2328 |                13432 |               120196 |

For example, the number of reviews that were 1 star or less for recipes that had a high number of ingredients was 292. From this pivot table, we can see that recipes with lower number of ingredients had more 4 to 5 star reviews as compared to recipes with higher number of ingredients. This could also be because there were more reviews for recipes with lower ingredients than for recipes with higher ingredients. 

## Assessment of Missingness

### NMAR
We believe that the `rating` column has potential to be NMAR. This is because we observed that there were many more higher ratings than lower ratings. This could be because people are more likely to review recipes if they actually liked the recipes and people might also be less likely to leave a negative review publicly. For these reasons the missingness of the data could depend on the data itself. 

### Finding dependency of columns 
First we evaluated the missingness within each column of the dataset. 

|                   |     0 |
|:------------------|------:|
| name              |     1 |
| recipe_id         |     0 |
| minutes           |     0 |
| contributor_id    |     0 |
| submitted         |     0 |
| tags              |     0 |
| nutrition         |     0 |
| n_steps           |     0 |
| steps             |     0 |
| description       |   114 |
| ingredients       |     0 |
| n_ingredients     |     0 |
| user_id           |     1 |
| date              |     1 |
| rating            | 15036 |
| review            |    58 |
| avg_rating        |  2777 |
| ing_size_label    |     0 |
| rating_categories |     0 |

It seems like the column with the most missing data is `rating`. We can check its dependency on other columns using a permutation test. A good test statistic to use would be the absolute difference of means.

We defined a function for running a permutation test on the missing data. 

First, we checked whether the missingness of `rating` depended on `n_ingredients`. After running the permutation test we got a p-value of 0.0, which indicated that the missingness of `rating` does depend on `n_ingredients`. 

<iframe src="assets/n_ing_missing.html" width=800 height=600 frameBorder=0></iframe>

From the results of the permutation test, we reject the null hypothesis that there is no relationship between the missingness of `rating` and `n_ingredients` column. We can conclude that `rating` seems to be MAR with respect to `n_ingredients`. The red line above indicates the observed test statistic of 0.16, which is clearly far beyond any of the simulated stats. 

Next, we checked the relationship between the missingness of `rating` and `minutes` column, which is the preparation time for each recipe.  

<iframe src="assets/minutes_missing.html" width=800 height=600 frameBorder=0></iframe>

From the permutation test and figure above, we fail to reject the null hypothesis that the missingness of `rating` does not depend on `minutes`. That is, the missingness of `rating` does not depend on the values of the `minutes` column. We got a p-value of around 0.13, which is greater than 0.05. Clearly, our observed test stat (red line) falls in the range of the simulated test stats.

## Hypothesis Testing

Null Hypothesis: There is no significant difference in average rating between recipes that have a lower number of ingredients vs a higher number of ingredients. 

Alternate: There is a significant difference in average rating between recipes that have a lower number of ingredients vs a higher number of ingredients. 

We conducted this hypothesis test using permutation. That is, we created a separate dataframe that just had the columns we wanted -- `recipe_id`, `avg_rating` and the `ing_size_label` which represented whether a recipe used a low or high number of ingredients. We also dropped duplicate rows, so each row represented a single recipe. We called this dataframe `hyp_df`, and a few rows are shown below. 

|    |   recipe_id |   avg_rating | ing_size_label   | ing_size_label_shuffled   |
|---:|------------:|-------------:|:-----------------|:--------------------------|
|  0 |      333281 |            4 | low              | low                       |
|  1 |      453467 |            5 | high             | high                      |
|  2 |      306168 |            5 | low              | high                      |

We conducted the permutation test by permuting the `ing_size_label` column. First, we calculated our observed test statistic. Our test statistic of choice was the absolute difference of means. Then, we permuted the `ing_size_label` column and calculated simulated test statistics under the null. Finally, we calculated the proportion of these simulated statistics that were greater than the observed test statistic, and this was the p-value. A figure showing our simulated test statistics, and our observed test statistic is shown below.

<iframe src="assets/hyp_test.html" width=800 height=600 frameBorder=0></iframe>

From the p-value and the graph above, we fail to reject the null hypothesis that there is no significant difference in average rating between recipes with less ingredients or more ingredients. This is because the p-value was 0.3797, which is much higher than the threshold of 0.05. From the graph, we can see that our observed test statistic (red line) is within the bounds of simulated test statistics as well. 

## Conclusion 

Intially we asked the question, of whether the ratings of recipes that used higher numbers of ingredients were significantly different from those that used a lower number of ingredients. Through our data analysis, we were able to conclude that there seems to be no significant difference between the average ratings of recipes with high number of ingredients and low number of ingredients. This could be because the tastiness of the recipe matters more than the number of ingredients used!